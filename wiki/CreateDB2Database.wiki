#Steps to create a new DB2 Database from scratch

= Introduction =

Steps to create a new DB2 Database from scratch


= Details =
Step 1: Create users and groups

{{{
groupadd db2i1grp
groupadd db2fcgrp
groupadd db2asgrp

useradd -g db2i1grp -m -d /home.local/db2inst1 db2inst1
useradd -g db2fcgrp -m -d /home.local/db2fc db2fc
useradd -g db2asgrp -m -d /home.local/db2as db2as
}}}

Step 2: Create DB admin server
{{{
/opt/ibm/db2/V9.7/instance/dascrt -u db2as
}}}

Step 3: Create instance
{{{
/opt/ibm/db2/V9.7/instance/db2icrt -u db2fc db2inst1
}}}

Step 4: Add this to the /etc/services
{{{
db2c_db2inst1	50000/tcp
}}}

Step 5: Apply license
{{{
db2licm -a db2ese_u.lic
db2licm -l
}}}

Step 6: Set DB2 Registry
{{{
db2set DB2COMM=TCPIP
db2set DB2_PARALLEL_IO=*:7
}}}

Step 7: Update DBM CFG
{{{
UPDATE DBM CFG USING
    DFT_MON_BUFPOOL ON
    DFT_MON_LOCK ON
    DFT_MON_SORT ON
    DFT_MON_STMT ON
    DFT_MON_TABLE ON
    DFT_MON_TIMESTAMP ON
    DFT_MON_UOW ON
    HEALTH_MON OFF

    INSTANCE_MEMORY 2097152

    SVCENAME db2c_db2inst1

    MAX_QUERYDEGREE ANY
    INTRA_PARALLEL NO
;
}}}